/**
 * @package     Bluecoder.JFilters
 *
 * @copyright   Copyright Â© 2023 Blue-Coder.com. All rights reserved.
 * @license     GNU General Public License 2 or later, see COPYING.txt for license details.
 */
((e,t)=>{if(!e)throw new Error("core.js was not properly initialised");if(window.JFilters=window.JFilters||{},!e)throw new Error("core.js was not properly initialised");JFilters.index=()=>{let n;const r=`&${t.getElementById("jfilters-index-token").getAttribute("name")}=1`;n=n=>{e.request({url:`index.php?option=com_jfilters&view=index&tmpl=component&format=json&task=${n}${r}`,method:"GET",data:"",perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:n=>{!function(n){try{if(null===n)throw new Error(resp);if(n.error)throw new Error(n);{const r=t.getElementById("jfilters-index-spinner"),o=t.getElementById("jfilters-index-message");r.remove(),o.innerHTML='<div class="alert alert-success">'+e.sanitizeHtml(n.message)+"</div>",setTimeout((function(){window.location.href="index.php?option=com_finder&view=indexer&tmpl=component"}),2e3)}}catch(e){throw new Error(e)}}(JSON.parse(n))},onError:n=>{(n=>{const r=t.getElementById("jfilters-index-message");let o="object"==typeof n&&n.responseText?n.responseText:null;o=o?JSON.parse(o):null,r&&o.error&&(r.innerHTML=e.sanitizeHtml(o.message),r.classList.add("alert alert-danger"))})(n)}})};n("index.delete")}})(Joomla,document),document.addEventListener("DOMContentLoaded",(()=>{window.Indexer=JFilters.index()}));
