/**
 * @package     Bluecoder.JFilters
 *
 * @copyright   Copyright Â© 2024 Blue-Coder.com. All rights reserved.
 * @license     GNU General Public License 2 or later, see COPYING.txt for license details.
 */
document.addEventListener("DOMContentLoaded",(function(){document.getElementById("jform_params_contextType").addEventListener("change",(()=>{t(),e(),document.querySelectorAll(".jfilters_filters_selected").forEach((e=>{e.value=""}))}));function e(e=document){const t=document.getElementById("jform_params_contextType");if(t){let a=e.querySelector(".joomla-modal"),o=a.dataset.iframe,r=o.match(/src="([^"]+)"/);if(r&&r[1]){let e=new URL(r[1]);e.searchParams.set("filter[context]",t.value);const n=e.toString();let c=o.replace(r[1],n);a.setAttribute("data-iframe",c)}}}function t(e=document){let t=e.querySelector(".joomla-modal"),a=t.dataset.iframe,o=a.match(/src="([^"]+)"/);if(o&&o[1]){let e=new URL(decodeURIComponent(o[1])),r=["option","view","layout","tmpl","JFClient","filter[context]"];Array.from(e.searchParams.keys()).forEach((function(t){r.includes(t)||e.searchParams.delete(t)}));const n=e.toString();let c=a.replace(o[1],n);t.setAttribute("data-iframe",c)}}document.querySelectorAll(".jfiltersClearBtn").forEach((e=>{e.addEventListener("click",(e=>{t(e.target.closest(".controls"))}))})),e()}));
